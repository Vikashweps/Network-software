# gRPC — быстрее, строже, сильнее

В REST мы передаем данные текстом (JSON). Это удобно для человека, но медленно для машины (нужно парсить текст). В gRPC мы передаем бинарные данные (Protocol Buffers). Это очень быстро и компактно.
Кроме того, в REST контракт — это просто договоренность (или документация Swagger). В gRPC контракт — это закон. Если вы поменяли тип поля в `.proto` файле, код просто не скомпилируется или упадет с понятной ошибкой.

## Ключевые понятия
- **Protocol Buffers (Protobuf)** — язык описания интерфейсов (IDL). Вы пишете `int32 id = 1`, и это превращается в эффективный код на Python, Go, Java и C++.
- **Unary RPC** — самый простой тип взаимодействия: клиент отправил один запрос — сервер вернул один ответ. Очень похоже на обычный вызов функции, только по сети.
- **Stub** (Заглушка) — сгенерированный код на стороне клиента, который выглядит как обычный объект. Вы вызываете `stub.GetItem(request)`, а он сам упаковывает данные и отправляет их в сеть.

## Зачем это нужно?
1. **Скорость**: Сериализация Protobuf в разы быстрее JSON.
2. **Меньше трафика**: Бинарный формат занимает меньше места.
3. **Генерация кода**: Вам не нужно писать клиенты вручную. Вы просто отдаете коллегам `.proto` файл, и они генерируют клиент для своего языка.

## Инструменты
В Python мы используем библиотеки `grpcio` и `grpcio-tools`.
Команда генерации обычно выглядит так:
```bash
python -m grpc_tools.protoc -I. --python_out=. --grpc_python_out=. proto/service.proto
```
