# Вся инфраструктура в одном файле

Docker Compose — это стандарт де-факто для локальной разработки. Вы приходите в новый проект, делаете `git clone` и `docker-compose up`. Через 5 минут у вас на ноутбуке развернут весь бэкенд, базы, очереди и кэши. Магия!

## Ключевые понятия
- **Service** (Сервис) — контейнер. Например, `backend`, `db`, `redis`.
- **Volume** (Том) — постоянное хранилище. Если вы удалите контейнер с базой, данные пропадут. Если подключить volume — данные выживут.
- **Network** (Сеть) — виртуальная локалка. Внутри неё сервисы видят друг друга по названиям (`ping db`). Снаружи (с хоста) порты доступны только если вы их пробросили (`ports: 8000:8000`).
- **Healthcheck** — способ узнать, жив ли пациент. Docker периодически делает `curl localhost:8000/health`. Если 3 раза подряд ошибка — контейнер помечается как `unhealthy`.

## depends_on
Частая ошибка: думать, что `depends_on: [db]` гарантирует, что база *запустилась*. Нет, это значит только то, что контейнер с базой *создан*. Чтобы ждать реальной готовности (открытого порта), нужно использовать `condition: service_healthy`.
