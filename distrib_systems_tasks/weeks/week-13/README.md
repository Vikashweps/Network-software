# Пакетный менеджер Helm

## Задача
Писать YAML-манифесты вручную утомительно. Копировать их для dev, stage и prod окружений — ошибка. Если нужно поменять версию имиджа, придется править 3 файла.
**Helm** — это "apt/yum/pip" для Кубернетиса. Он позволяет создать шаблон (Chart) и подставлять туда разные значения (Values).

## Ваш вариант
`variants/<GROUP>/<STUDENT_ID>/week-13.json`
Вам понадобится имя чарта (`k8s.app`).

## Что нужно сделать
1. **Создать Helm Chart**:
   - Структура: `Chart.yaml`, `values.yaml`, `templates/`.
   - В `templates/` перенесите ваши `deployment.yaml` и `service.yaml` из прошлой недели.
   - Замените жестко прописанные значения на переменные: `{{ .Values.image.repository }}`.
2. **Настроить Values**:
   - `values.yaml`: дефолтные значения.
   - `values-dev.yaml`: для разработки (1 реплика, лимиты поменьше).
   - `values-prod.yaml`: для прода (3 реплики, лимиты побольше).
3. **Проверить шаблонизацию**:
   - `helm template my-release ./chart -f values-dev.yaml` — посмотрите, какой YAML получается на выходе.

## Что сдавать
1. Папку с чартом.
2. Файлы overrides (`values-*.yaml`).
3. Ответы на вопросы.

## Как проверить
```bash
make test WEEK=13
```
Тест отрендерит ваш чарт с разными values и проверит, что параметры подставились верно.
