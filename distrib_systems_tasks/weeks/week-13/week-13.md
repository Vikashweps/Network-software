# Шаблонизируй это

Представьте, что у вас 50 микросервисов. У всех одинаковые Deployment-ы, отличаются только имя образа и порт. Копипастить YAML 50 раз? Нет.
Вы пишете один **Helm Chart** (шаблон) и 50 маленьких **values.yaml** файлов.

## Ключевые понятия
- **Chart** (Чарт) — пакет, содержащий шаблоны.
- **Templates** (Шаблоны) — YAML файлы с вставками на языке Go Templates (`{{ .Values.foo }}`).
- **Values** (Значения) — данные, которые заливаются в шаблоны.
- **Release** (Релиз) — конкретная установка чарта в кластер. Можно поставить один чарт (MySQL) 5 раз (Release: `db-users`, `db-orders`...).

## Go Templates
Это мощный (и иногда страшный) язык.
- `{{ .Values.key }}` — вставить значение.
- `{{ default "latest" .Values.tag }}` — значение по умолчанию.
- `{{ if .Values.enabled }} ... {{ end }}` — условия.
- `{{ range .Values.items }} ... {{ end }}` — циклы.

Главное правило: следите за отступами! YAML чувствителен к пробелам, а шаблонизатор просто плюет текст. Функция `nindent` — ваш лучший друг.
